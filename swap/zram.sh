#!/bin/bash
#set -e
##################################################################################################################
# Author  :  anisbsalah
# Github  :  https://github.com/anisbsalah
##################################################################################################################
#
# DO NOT JUST RUN THIS. EXAMINE AND JUDGE. RUN AT YOUR OWN RISK.
#
##################################################################################################################
# CURRENT_DIR="$(pwd)"
##################################################################################################################

echo
tput setaf 3
echo "######################################################################################################"
echo "################# Installing zram..."
echo "######################################################################################################"
tput sgr0
echo

sudo apt install -y zram-tools

echo
tput setaf 3
echo "######################################################################################################"
echo "################# Editing config file"
echo "######################################################################################################"
tput sgr0

echo "
ALGO=zstd
PERCENT=70" | sudo tee -a /etc/default/zramswap

echo
tput setaf 3
echo "######################################################################################################"
echo "################# Enabling zramswap service"
echo "######################################################################################################"
tput sgr0

sudo service zramswap reload

echo
tput setaf 2
echo "######################################################################################################"
echo "################# zram has been installed"
echo "######################################################################################################"
tput sgr0
echo
